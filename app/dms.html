<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dead Man's Switch | The Murderer's Lock</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Playfair+Display:wght@700;900&family=JetBrains+Mono:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/dms.css">
</head>
<body>
  <div class="neon-bg"></div>
  <div class="container">
    <a href="dashboard.html" class="back-link">← Back to Dashboard</a>
    <h1 class="page-title">Dead Man's Switch</h1>
    <p class="page-subtitle">If you don't check in within your interval, your emergency contacts will receive instructions to access your vaults. 5-day grace period with escalating alerts before transfer.</p>

    <div class="dms-card">
      <h3>Check-In Status</h3>
      <div id="status-badge" class="status-badge status-ok">—</div>
      <p id="status-text" style="color: var(--text-silver); margin-bottom: 20px;">—</p>
      <button type="button" class="btn btn-success" id="checkin-btn">✓ I'm Here — Check In</button>
      <p class="success-msg" id="checkin-success" style="color: var(--neon-lime); margin-top: 12px; display: none;">Check-in recorded.</p>
    </div>

    <div class="dms-card">
      <h3>Configuration</h3>
      <form id="dms-form">
        <div class="form-group">
          <label class="form-label">Enable Dead Man's Switch</label>
          <div class="toggle-wrap">
            <label class="toggle-switch">
              <input type="checkbox" id="dms-enabled">
              <span class="toggle-slider"></span>
            </label>
            <span id="toggle-label">OFF</span>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Check-In Interval</label>
          <select class="form-select" id="interval-days">
            <option value="3">Every 3 days</option>
            <option value="7">Every 7 days</option>
            <option value="14">Every 14 days</option>
            <option value="30">Every 30 days</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Grace Period (before contacts notified)</label>
          <select class="form-select" id="grace-days">
            <option value="3">3 days</option>
            <option value="5" selected>5 days</option>
            <option value="7">7 days</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Save Configuration</button>
        <p class="success-msg" id="dms-save-success" style="color: var(--neon-lime); margin-top: 12px; display: none;">Saved.</p>
      </form>
    </div>

    <div class="dms-card">
      <h3>Emergency Contacts (Beneficiaries)</h3>
      <p style="color: var(--text-silver); font-size: 13px; margin-bottom: 20px;">These people will receive vault access instructions if you don't check in.</p>
      <div id="contacts-list"></div>
      <div style="margin-top: 20px;">
        <input type="text" class="form-input" id="contact-name" placeholder="Name" style="margin-bottom: 12px;">
        <input type="email" class="form-input" id="contact-email" placeholder="Email" style="margin-bottom: 12px;">
        <input type="text" class="form-input" id="contact-relation" placeholder="Relationship (e.g., spouse, lawyer)" style="margin-bottom: 12px;">
        <button type="button" class="btn btn-primary" id="add-contact">Add Contact</button>
      </div>
      <div class="info-box">
        <strong>Recovery instructions for contacts:</strong> Each contact will receive an email with your vault IDs and instructions to use 2 of 3 Shamir shards (which you should store with them or in your will) to recover access.
      </div>
    </div>
  </div>

  <script src="js/dms.js"></script>
</body>
</html>
